# 📋 小红书数据导入模版使用指南

## 🎯 概述

本文档说明如何使用小红书向量知识库的数据导入模版，支持 **CSV** 和 **JSON** 两种格式。

## 📥 如何获取模版

1. 访问知识库管理页面：`http://localhost:3000/knowledge-base-v2`
2. 选择你的知识库
3. 进入 **"数据管理"** 标签页
4. 点击 **"下载模板"** 下拉菜单
5. 选择你需要的格式：
   - **CSV 格式**：适合 Excel 编辑
   - **JSON 格式**：适合程序处理

## 📊 数据字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| `title` | 文本 | ✅ | 小红书标题 | `"超简单芝士蛋糕教程"` |
| `content` | 文本 | ✅ | 小红书正文内容 | `"今天给大家分享..."` |
| `audio_url` | URL | ❌ | 音频链接 | `"https://example.com/audio.mp3"` |
| `cover_image_url` | URL | ❌ | 封面图片链接 | `"https://example.com/image.jpg"` |
| `video_url` | URL | ❌ | 视频链接 | `"https://example.com/video.mp4"` |
| `likes` | 数字 | ❌ | 点赞数 | `1580` |
| `favorites` | 数字 | ❌ | 收藏数 | `892` |
| `comments` | 数字 | ❌ | 评论数 | `156` |
| `author` | 文本 | ❌ | 作者/博主名称 | `"美食达人小李"` |
| `tags` | 标签 | ❌ | 标签（CSV用逗号分隔） | `"美食,甜品,教程"` |
| `publish_time` | 时间 | ❌ | 发布时间 | `"2024-03-15 14:30:00"` |

## 📝 CSV 格式使用

### 特点
- ✅ 适合用 Excel、Google Sheets 等表格工具编辑
- ✅ 结构简单，易于批量处理
- ✅ 支持大数据量

### 注意事项
1. **编码格式**：请使用 UTF-8 编码保存
2. **逗号转义**：如果内容包含逗号，会自动用双引号包围
3. **标签格式**：多个标签用逗号分隔，如：`美食,甜品,教程`
4. **换行处理**：内容中的换行符会被保留

### 示例
```csv
title,content,likes,author,tags,publish_time
超简单芝士蛋糕教程,今天给大家分享一个超级简单的芝士蛋糕制作方法...,1580,美食达人小李,美食,甜品,芝士蛋糕,教程,2024-03-15 14:30:00
```

## 🔧 JSON 格式使用  

### 特点
- ✅ 适合程序化处理
- ✅ 支持复杂数据结构
- ✅ 格式严格，减少错误

### 注意事项
1. **语法正确**：确保 JSON 语法正确，可使用在线 JSON 验证工具
2. **标签格式**：标签使用字符串数组，如：`["美食", "甜品", "教程"]`
3. **字符转义**：特殊字符需要转义，如 `"` → `\"`

### 示例
```json
[
  {
    "title": "超简单芝士蛋糕教程",
    "content": "今天给大家分享一个超级简单的芝士蛋糕制作方法，零失败！",
    "likes": 1580,
    "favorites": 892,
    "comments": 156,
    "author": "美食达人小李",
    "tags": ["美食", "甜品", "芝士蛋糕", "教程"],
    "publish_time": "2024-03-15 14:30:00"
  }
]
```

## 🚀 导入流程

1. **下载模版**：选择合适的格式下载
2. **编辑数据**：
   - CSV：用 Excel 等工具打开编辑
   - JSON：用文本编辑器或 IDE 编辑
3. **验证数据**：确保必填字段已填写，格式正确
4. **上传文件**：返回系统，点击"上传文件"按钮
5. **字段映射**：系统会显示字段映射界面，确认无误后导入
6. **等待处理**：系统会自动进行向量化处理

## ⚡ 性能建议

- **批量大小**：建议单次导入不超过 1000 条记录
- **文件大小**：建议单个文件不超过 10MB
- **内容长度**：标题建议不超过 100 字，内容建议不超过 2000 字
- **并发导入**：避免同时上传多个大文件

## 🔍 RAG 搜索优化

为了获得更好的搜索效果，建议：

1. **标题优化**：标题应该简洁明了，包含关键词
2. **内容质量**：内容应该结构清晰，信息完整
3. **标签设置**：设置准确的标签有助于分类检索
4. **去重处理**：避免导入重复或极其相似的内容

## ❓ 常见问题

### Q: 为什么下载的 CSV 文件乱码？
A: 请确保用支持 UTF-8 编码的软件打开，如 VS Code、Notepad++

### Q: JSON 格式校验失败怎么办？
A: 使用在线 JSON 验证工具检查语法，注意逗号、引号、括号匹配

### Q: 导入后搜索不到内容？
A: 检查相似度阈值设置，建议设为 0.01-0.05 之间

### Q: 支持哪些文件大小？
A: 建议单个文件不超过 10MB，记录数不超过 1000 条

## 🛠️ 技术支持

如有问题，请联系技术支持或查看系统日志获取详细错误信息。
